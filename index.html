<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Legacy On Location — Memories Matter.</title>

<link rel="preload" as="image" href="hero-winner.png" fetchpriority="high">
<link rel="preload" as="image" href="hero-winner-mobile-wide.png" media="(max-width: 768px)" fetchpriority="high">

<style>
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#000;color:#fff}

  .hero{
    position:fixed;inset:0;height:100vh;height:100svh;height:100dvh;width:100vw;
    background:url("hero-winner.png") center 60%/cover no-repeat;z-index:0;
  }
  @media(max-width:768px){
    .hero{background:url("hero-winner-mobile-wide.png") center/cover no-repeat;}
  }
  .hero::after{
    content:"";position:absolute;top:0;left:0;width:100%;height:220px;
    background:linear-gradient(to bottom,rgba(0,0,0,.45),rgba(0,0,0,.15),rgba(0,0,0,0));
  }

  .nav{position:fixed;top:18px;left:18px;right:18px;display:flex;justify-content:space-between;z-index:5}
  .navLeft,.navRight{display:flex;gap:12px;flex-wrap:wrap}
  .nav a{
    text-decoration:none;color:#fff;font-size:14px;letter-spacing:.08em;text-transform:uppercase;
    padding:14px 18px;border-radius:16px;border:1px solid rgba(255,255,255,.25);
    background:rgba(0,0,0,.25);backdrop-filter:blur(8px);
    transition:transform .18s ease, background .18s ease, border-color .18s ease;
  }
  .nav a:hover{background:rgba(255,255,255,.14);border-color:rgba(255,255,255,.34);transform:translateY(-2px)}
  @media(max-width:480px){.nav a{font-size:14px;padding:12px 14px}}

  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:20px;z-index:50}
  .modal.show{display:flex}
  .modalBackdrop{position:absolute;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(14px)}
  .modalCard{
    position:relative;z-index:2;width:min(1100px,95vw);max-height:85vh;overflow:auto;
    background:rgba(20,22,20,.94);border-radius:26px;padding:30px;border:1px solid rgba(255,255,255,.12);
    box-shadow:0 30px 90px rgba(0,0,0,.55);
  }
  .modalCard h2{margin:0 0 16px;font-family:Georgia,serif;font-size:26px}
  .close{
    position:absolute;top:18px;right:18px;border:1px solid rgba(255,255,255,.2);
    background:rgba(255,255,255,.1);color:#fff;padding:8px 14px;border-radius:14px;cursor:pointer
  }

  .sectionBox{border-radius:20px;border:1px solid rgba(255,255,255,.15);padding:18px;margin-top:16px;background:rgba(0,0,0,.25)}
  .offering p{font-size:22px;line-height:1.8;margin:0 0 12px;color:rgba(255,255,255,.88)}
  .pills{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
  .pill{padding:10px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.2);font-size:12px;letter-spacing:.06em;text-transform:uppercase;background:rgba(255,255,255,.06)}

  .galleryIntro{margin:0 0 10px;opacity:.85;line-height:1.6}
  .galleryGrid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px;margin-top:14px}
  figure.gShot{margin:0;grid-column:span 6;border-radius:18px;overflow:hidden;border:1px solid rgba(255,255,255,.15);background:rgba(0,0,0,.22)}
  figure.gShot.wide{grid-column:span 12}
  .gMedia img{
    width:100%;height:360px;object-fit:cover;display:block;
    transition:transform .25s ease,filter .25s ease;
  }
  figure.gShot:hover .gMedia img{transform:scale(1.04);filter:saturate(1.05) contrast(1.02)}
  .gCap{padding:12px;font-size:13px;line-height:1.5;border-top:1px solid rgba(255,255,255,.1);background:rgba(0,0,0,.18);color:rgba(255,255,255,.82)}
  .gCap b{color:rgba(255,255,255,.96)}
  .gCap em{font-style:normal;color:rgba(255,255,255,.70)}

  @media(max-width:900px){
    figure.gShot{grid-column:span 12}
    .gMedia img{height:300px}
  }

  /* Debug panel */
  .debug{
    margin-top:14px;
    padding:12px 14px;
    border-radius:16px;
    border:1px dashed rgba(255,255,255,.22);
    background:rgba(0,0,0,.22);
    color:rgba(255,255,255,.78);
    font-size:12px;
    line-height:1.6;
  }
  .debug b{color:rgba(255,255,255,.92)}
  .bad{color:#ffb3b3}
  .ok{color:#b7ffcf}
</style>
</head>

<body>
<div class="hero"></div>

<div class="nav">
  <div class="navLeft">
    <a href="#" onclick="openModal('offering');return false;">The Offering</a>
    <a href="#" onclick="openModal('gallery');return false;">Gallery</a>
  </div>
  <div class="navRight">
    <a href="#" onclick="openModal('reserve');return false;">Reserve</a>
    <a href="#" onclick="openModal('about');return false;">About</a>
  </div>
</div>

<div class="modal" id="modal">
  <div class="modalBackdrop" onclick="closeModal()"></div>
  <div class="modalCard">
    <button class="close" onclick="closeModal()">Close</button>
    <h2 id="modalTitle"></h2>
    <div id="modalBody"></div>
  </div>
</div>

<template id="tpl-offering">
  <div class="offering">
    <div class="sectionBox">
      <p><b>Legacy On Location stages a one-of-a-kind Defender 110 Heritage Edition as a cinematic backdrop for moments that matter.</b></p>
      <p style="margin:0;opacity:.82;">
        Designed for weddings, family gatherings, photo shoots, creators, and film/television productions.
        This is curated staging — not casual rental.
      </p>
    </div>
    <div class="sectionBox">
      <b>Areas Served</b>
      <div class="pills">
        <span class="pill">SF</span><span class="pill">Marin</span><span class="pill">Napa</span>
        <span class="pill">Sonoma</span><span class="pill">East Bay</span><span class="pill">Peninsula</span>
      </div>
    </div>
  </div>
</template>

<template id="tpl-gallery">
  <p class="galleryIntro">Selected moments on location.</p>
  <div id="galleryMount"></div>
  <div class="debug" id="debugPanel" style="display:none;"></div>
</template>

<template id="tpl-reserve">
  <div class="sectionBox">
    Email <b>legacyonlocation@gmail.com</b> with date, location, and requirements.
  </div>
</template>

<template id="tpl-about">
  <div class="sectionBox">
    Premium curated staging. Not casual rental. COI required for production use.
  </div>
</template>

<script>
  const modal = document.getElementById("modal");
  const titleEl = document.getElementById("modalTitle");
  const bodyEl  = document.getElementById("modalBody");

  const sections = {
    offering: { title: "The Offering", tpl: "tpl-offering" },
    gallery:  { title: "Gallery",      tpl: "tpl-gallery"  },
    reserve:  { title: "Reserve",      tpl: "tpl-reserve"  },
    about:    { title: "About",        tpl: "tpl-about"    }
  };

  // ✅ UPDATE THESE FILENAMES IF YOURS DIFFER BY EVEN ONE CHARACTER (case-sensitive)
  const galleryImages = [
    {
      file: "JamesBond-Skyfall-Extra.jpeg",
      title: "On set as extra prop in James Bond Skyfall.",
      loc: "The Scottish Highlands (2018).",
      wide: true
    },
    {
      file: "D110-JamesBaroud-Session.jpeg",
      title: "Brand shoot for James Baroud rooftop tents.",
      loc: "Bearsden, Scotland.",
      wide: false
    },
    {
      file: "D110-Explore-Scotland-Shoot.jpeg",
      title: "Corporate retreat on location.",
      loc: "Loch Lomond, Scotland.",
      wide: false
    },
    {
      file: "D110-Family-Kilts-LochLomond.jpeg",
      title: "Family Christmas Kilts.",
      loc: "Loch Lomond, Scotland.",
      wide: false
    },
    {
      file: "Corporate-Tree-Cutting-Day-Highlands.jpeg",
      title: "Christmas tree cutting day.",
      loc: "The Highlands, Scotland.",
      wide: false
    },
    {
      file: "Estate-Sale-Bearsden-Glasgow.jpeg",
      title: "Large estate sale staging.",
      loc: "Bearsden, Glasgow.",
      wide: true
    }
  ];

  function openModal(key){
    const s = sections[key];
    if(!s) return;

    titleEl.textContent = s.title;
    bodyEl.innerHTML = "";
    bodyEl.appendChild(document.getElementById(s.tpl).content.cloneNode(true));
    modal.classList.add("show");

    if(key === "gallery") renderGallery();
  }

  function closeModal(){
    modal.classList.remove("show");
    bodyEl.innerHTML = "";
  }

  function renderGallery(){
    const mount = document.getElementById("galleryMount");
    const debug = document.getElementById("debugPanel");
    if(!mount) return;

    const grid = document.createElement("div");
    grid.className = "galleryGrid";

    const failures = [];

    galleryImages.forEach((img) => {
      const fig = document.createElement("figure");
      fig.className = "gShot" + (img.wide ? " wide" : "");

      const media = document.createElement("div");
      media.className = "gMedia";

      const image = document.createElement("img");
      image.src = img.file;
      image.alt = img.title;
      image.loading = "lazy";
      image.decoding = "async";

      image.onerror = () => failures.push(img.file);

      const cap = document.createElement("figcaption");
      cap.className = "gCap";
      cap.innerHTML = `<b>${escapeHtml(img.title)}</b><br><em>Location:</em> ${escapeHtml(img.loc)}`;

      media.appendChild(image);
      fig.appendChild(media);
      fig.appendChild(cap);
      grid.appendChild(fig);
    });

    mount.innerHTML = "";
    mount.appendChild(grid);

    // After images attempt to load, report failures (if any)
    setTimeout(() => {
      if(!debug) return;
      if(failures.length === 0){
        debug.style.display = "block";
        debug.innerHTML = `<b>Gallery check:</b> <span class="ok">All images loaded.</span>`;
      } else {
        debug.style.display = "block";
        debug.innerHTML =
          `<b>Gallery check:</b> <span class="bad">${failures.length} image(s) failed to load.</span><br>` +
          failures.map(f => `• <span class="bad">${escapeHtml(f)}</span>`).join("<br>") +
          `<br><br>These filenames must match GitHub exactly (case-sensitive) and be in the same folder as index.html.`;
      }
    }, 800);
  }

  function escapeHtml(str){
    return (str || "").replace(/[&<>"']/g, (m) => ({
      "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
    }[m]));
  }

  window.addEventListener("keydown", (e) => {
    if(e.key === "Escape") closeModal();
  });

  // Expose functions for inline onclick
  window.openModal = openModal;
  window.closeModal = closeModal;
</script>

</body>
</html>
